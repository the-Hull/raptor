<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Automatic rows and position detection — batch.mode • RAPTOR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Automatic rows and position detection — batch.mode" />
<meta property="og:description" content="Batch.mode applies all functionalities described in is.raptor,
 align,
  first.cell,
   pos.det and
   write.output.
  Multiple input datasets (sample specific) can be provided in a folder and automatically
  used within this function. Input data should be checked for all requirements described
  in is.raptor and preferably adjusted with align.
  See pos.det for a detailed description of arguments." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RAPTOR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/the-hull/RAPTOR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Automatic rows and position detection</h1>
    <small class="dont-index">Source: <a href='https://github.com/the-hull/RAPTOR/blob/master/R/batch.mode.R'><code>R/batch.mode.R</code></a></small>
    <div class="hidden name"><code>batch.mode.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Batch.mode applies all functionalities described in <code><a href='is.raptor.html'>is.raptor</a></code>,
 <code><a href='align.html'>align</a></code>,
  <code><a href='first.cell.html'>first.cell</a></code>,
   <code><a href='pos.det.html'>pos.det</a></code> and
   <code><a href='write.output.html'>write.output</a></code>.
  Multiple input datasets (sample specific) can be provided in a folder and automatically
  used within this function. Input data should be checked for all requirements described
  in <code><a href='is.raptor.html'>is.raptor</a></code> and preferably adjusted with <code><a href='align.html'>align</a></code>.
  See <code><a href='pos.det.html'>pos.det</a></code> for a detailed description of arguments.</p>
    </div>

    <pre class="usage"><span class='fu'>batch.mode</span><span class='op'>(</span><span class='va'>location</span>, files <span class='op'>=</span> <span class='cn'>FALSE</span>,
           interact <span class='op'>=</span> <span class='cn'>TRUE</span>, make.plot <span class='op'>=</span> <span class='cn'>TRUE</span>,
           aligning <span class='op'>=</span> <span class='cn'>TRUE</span>, frac.small<span class='op'>=</span><span class='fl'>0.5</span>, swe<span class='op'>=</span><span class='fl'>0.5</span>, sle<span class='op'>=</span><span class='fl'>3</span>,
           ec<span class='op'>=</span><span class='fl'>3</span>, swl<span class='op'>=</span><span class='fl'>0.5</span>, sll<span class='op'>=</span><span class='fl'>5</span>, lc<span class='op'>=</span><span class='fl'>10</span>, prof.co<span class='op'>=</span><span class='fl'>6</span>, max.cells<span class='op'>=</span><span class='fl'>0.5</span>,
           list <span class='op'>=</span> <span class='cn'>FALSE</span>, flip <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>location</th>
      <td><p>a character string containing the location of input files and where the outputs (.pdf and .txt files) should be stored.</p></td>
    </tr>
    <tr>
      <th>files</th>
      <td><p>a vector of files for the analyses (defaults to all files present in the folder). Text files should agree with all criteria presented in <code><a href='is.raptor.html'>is.raptor</a></code>.</p></td>
    </tr>
    <tr>
      <th>interact</th>
      <td><p>a logical flag. If <code><a href='https://rdrr.io/r/base/logical.html'>TRUE</a></code>, the user will have the options to manually assign the degree of rotation for each annual ring. See <code><a href='align.html'>align</a></code> for rotation options. If <code><a href='https://rdrr.io/r/base/logical.html'>FALSE</a></code>, the rotation is optimized automatically using a simple linear regression through all points along the horizontal axis (default = <code><a href='https://rdrr.io/r/base/logical.html'>FALSE</a></code>).</p></td>
    </tr>
    <tr>
      <th>make.plot</th>
      <td><p>logical flag indicating whether to make a plot (default =  <code><a href='https://rdrr.io/r/base/logical.html'>FALSE</a></code>).</p></td>
    </tr>
    <tr>
      <th>aligning</th>
      <td><p>logical flag indicating whether a second alignment has to be performed based upon the cells detected within <code><a href='first.cell.html'>first.cell</a></code> (default = <code><a href='https://rdrr.io/r/base/logical.html'>TRUE</a></code>).</p></td>
    </tr>
    <tr>
      <th>frac.small</th>
      <td><p>a numeric value (between 0 and 1) that is multiplied by the average cell lumen size of the ring, determining the minimal threshold used to filter out too small first row tracheids (default = 0.5).</p></td>
    </tr>
    <tr>
      <th>swe</th>
      <td><p>a numeric value that is multiplied by the square-rooted cell lumen area (l) of the target cell and used to determine the width of the rectangular search area which locates the next earlywood cell in the row (default = 0.5).</p></td>
    </tr>
    <tr>
      <th>sle</th>
      <td><p>a numeric value that is multiplied by the square rooted cell lumen area (l) of the target cell to determine the length of the rectangle search area which locates the next earlywood cell in the row (default = 3).</p></td>
    </tr>
    <tr>
      <th>ec</th>
      <td><p>threshold ratio between the lumen area of two consecutive earlywood cells to determine the end of the earlywood search (default = 1.75). The default setting indicates that the earlywood search ends when the next cell lumen area is at least 1.75 times smaller than the target cell.</p></td>
    </tr>
    <tr>
      <th>swl</th>
      <td><p>a numeric value that is multiplied by the square rooted cell lumen area (l) of the target cell to determine the width of the rectangle search area which locates the next latewood cell in the row (default = 0.25).</p></td>
    </tr>
    <tr>
      <th>sll</th>
      <td><p>a numeric value that is multiplied by the square rooted cell lumen area (l) of the target cell to determine the length of the rectangle search area which locates the next earlywood cell in the row (default = 5).</p></td>
    </tr>
    <tr>
      <th>lc</th>
      <td><p>threshold ratio between the lumen area of two consecutive latewood cells to determine the end of the radial file (default = 10). The default setting indicates that the latewood search ends when the next cell lumen area is at least 10 times smaller than the target cell.</p></td>
    </tr>
    <tr>
      <th>prof.co</th>
      <td><p>threshold ratio between the distance to the previous and consecutive cell to determine if the row (or radial file) should be excluded (default = 6).</p></td>
    </tr>
    <tr>
      <th>max.cells</th>
      <td><p>threshold proportion of the maximum number of cells to determine if the radial file has to be excluded (default = 0.6).</p></td>
    </tr>
    <tr>
      <th>list</th>
      <td><p>a <code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></code> with the individual "ID" and in sequence the slopes as described in <code><a href='pos.det.html'>pos.det</a></code>. Cannot be activated when interact = <code><a href='https://rdrr.io/r/base/logical.html'>TRUE</a></code>.</p></td>
    </tr>
    <tr>
      <th>flip</th>
      <td><p>logical flag indicating whether to plot the data with earlywood downwards (default; flip = <code><a href='https://rdrr.io/r/base/logical.html'>FALSE</a></code>) or upwards (flip = <code><a href='https://rdrr.io/r/base/logical.html'>TRUE</a></code>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Plots the detected radial files and writes output according the the
<code><a href='write.output.html'>write.output</a></code> format.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function aids in applying all described functions on a large dataset composed of multiple files, including multiple individuals and years. It will generate output graphs as described in <code><a href='is.raptor.html'>is.raptor</a></code>, <code><a href='align.html'>align</a></code>, <code><a href='first.cell.html'>first.cell</a></code>, <code><a href='pos.det.html'>pos.det</a></code> and <code><a href='write.output.html'>write.output</a></code> in a .pdf file. Additionally, output text files are written. All output files are exported into the directory specified in the location argument.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Richard L. Peters, Patrick Fonti.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


