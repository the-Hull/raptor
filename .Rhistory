data_year[which(data_year[,"CID"]==selected_CID[j]),"ROW"]<-999
}else{
select_above_cell     <-above_cells[order(above_cells$YCAL),]
data_year[which(data_year[,"CID"]==select_above_cell[1,"CID"]),"ROW"]<-999
}
adding_data<-data_year[which(data_year[,"ROW"]==999),]
for(c in c(1:nrow(adding_data))){
length<-adding_data[c,"SQRLENGTH"]/2
x     <-adding_data[c,"XCAL"]
y     <-adding_data[c,"YCAL"]
x_cor<-c((x-length),(x+length),(x+length),(x-length))
y_cor<-c((y+length),(y+length),(y-length),(y-length))
}
data_year[which(data_year[,"CA"]<cutoff_size),"ROW"]<-NA
data_years <-data_year[which(is.na(data_year[,"ROW"])==FALSE),]
data_years <-data_years[order(data_years$XCAL),]
for (p in c(1:nrow(data_years))){
data_year[which(data_year[,"CID"]==data_years[p,"CID"]),"ROW"]<-p
}
for (q in c(1:nrow(data_year))){
#q<-1
data_one<-data_year[which(data_year[,"ROW"]==q),]
length<-data_one[1,"SQRLENGTH"]/2
x     <-data_one[1,"XCAL"]
y     <-data_one[1,"YCAL"]
x_cor<-c((x-length/1),(x+length/1),(x+length/1),(x-length/1))
y_cor<-c((y+length*1),(y+length*1),(y-length*1),(y-length*1))
}
smaller  <-data_year[which(data_year[,"CA"]<cutoff_size),]
data_model             <-data_year[which(is.na(data_year[,"ROW"])==FALSE),]
x                      <-data_model[,"XCAL"]
y                      <-data_model[,"YCAL"]
input_m                  <-data.frame(cbind(x,y))
colnames(input_m)        <-c("x","y")
s=mgcv::s
Model                  <-mgcv::gam(y ~ s(x),data=input_m)
x                      <-c(1:(max(data_model[,"XCAL"],na.rm=TRUE)))
predict                <-mgcv::predict.gam(Model,newdata=data.frame(x))
x                      <-(data_model[,"XCAL"])
predict                <-mgcv::predict.gam(Model,newdata=data.frame(x))
predict_upper          <-predict+max(data_year[,"SQRLENGTH"],na.rm=TRUE)*1
removal                <-cbind(data_model[,"CID"],data_model[,"YCAL"],predict_upper)
removed_CID            <-removal[which(removal[,2]>removal[,3]),1]
data_year[which(data_year[,"CID"]%in% removed_CID),"ROW"]<-NA
row_code<-sort(unique(data_year[,"ROW",]))
for(r in c(1:length(row_code))){
#r<-1
data_year[which(data_year["ROW"]==row_code[r]),"ROW"]<-r
}
graph<-data_years[which(is.na(data_years[,"ROW"])==FALSE),]
if(nrow(graph)==0){print("no cells detected")
break}
for(c in c(1:nrow(graph))){
#c<-1
length<-graph[c,"SQRLENGTH"]/2
x     <-graph[c,"XCAL"]
y     <-graph[c,"YCAL"]
x_cor<-c((x-length),(x+length),(x+length),(x-length))
y_cor<-c((y+length),(y+length),(y-length),(y-length))
if(make.plot==TRUE){
graphics::text(x,y,c,cex=0.8)}
}
if(u==1){output<-data_year}else{output<-rbind(output,data_year)}
}
col_nr<-ncol(output)
output<-output[,c(-col_nr+2,-col_nr+1,-col_nr)]
return(output)
}
first<-first.cell(aligned, frac.small = 0.5, yrs = FALSE, make.plot = FALSE)
#' SIB_LARIX<-write.output(sib_larix)
#' for(i in c(1:length(unique(SIB_LARIX[,"YEAR"])))){
#' row_id<-unique(SIB_LARIX[which(SIB_LARIX[,"YEAR"]==unique(SIB_LARIX[,"YEAR"])[i]),"ROW"],
#'                na.rm=TRUE)
#' row_id<-na.omit(row_id[order(row_id)])
#' for(j in c(1:length(row_id))){
#' SIB_LARIX[which(SIB_LARIX[,"YEAR"]==unique(SIB_LARIX[,"YEAR"])[i] &
#'           SIB_LARIX[,"ROW"]==row_id[j]), "ROW"]<-j
#' }}
#' }
write.output<-function(input,location,flip=FALSE){
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
View(write.output)
input<-is.raptor(example.data(species="SIB_LARIX"), str = FALSE)
aligned<-align(input)
first<-first.cell(aligned, frac.small = 0.5, yrs = FALSE, make.plot = FALSE)
output<-pos.det(first, swe = 0.3, sle = 3, ec = 1.5, swl = 0.5, sll = 5, lc = 15,
prof.co =4, max.cells = 0.5, yrs = FALSE, aligning = FALSE, make.plot = FALSE)
sib_larix<-write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output)
write.output<-function(input,location,flip=FALSE){
opar <- graphics::par(no.readonly=T)
on.exit(graphics::par(opar))
outlist <- list()
if(missing(flip)){flip<-FALSE}
if(flip!=TRUE&flip!=FALSE)stop('flip need to be TRUE/FALSE')
if(missing(location)){location<-FALSE}
sample<-unique(input[,"ID"])
if(!is.null(location) & is.character(location)){
pdf(file=paste(location,"/",sample,".pdf",sep=""),height=210/25.4,width=297/25.4,paper="A4r")
} else {
stop("Please provide a character string containing a path to an output folder.")
}
years<-unique(input[,"YEAR"])
for(u in c(1:length(years)) ){
data_year<-input[which(input[,"YEAR"]==years[u]),]
year<-years[u]
if(flip==FALSE){
plot(data_year[,"XCAL"],data_year[,"YCAL"],ylab="Rel. Y-coordinates (micron)",
ylim=c(0-max(data_year[,"YCAL"],na.rm=TRUE)*0.01,max(data_year[,"YCAL"],na.rm=TRUE)),
main=paste(sample," - ",as.character(year)," - Rows: ",max(data_year[,"ROW"],na.rm=TRUE),sep=""),xlab="Rel. X-coordinates (micron)",pch=16,cex=0.2,col="white")}
if(flip==TRUE){
plot(data_year[,"XCAL"],data_year[,"YCAL"],ylab="Rel. Y-coordinates (micron)",
ylim=c(max(data_year[,"YCAL"],na.rm=TRUE),0-max(data_year[,"YCAL"],na.rm=TRUE)*0.01),
main=paste(sample," - ",as.character(year)," - Rows: ",max(data_year[,"ROW"],na.rm=TRUE),sep=""),xlab="Rel. X-coordinates (micron)",pch=16,cex=0.2,col="white")
}
data_year[,"SQRLENGTH"] <-sqrt(data_year[,"CA"])
nrcells<-nrow(data_year)
rows<-max(unique(data_year[,"ROW"])[which(is.na(unique(data_year[,"ROW"]))==FALSE)])
col_code<-rep(c("#FFA500","#FF3300","#C71585","#191970","#20B2AA","#00CC33","#006633"),ceiling(rows/7))
for(i in c(1:nrcells)){
length<-data_year[i,"SQRLENGTH"]/2
x     <-data_year[i,"XCAL"]
y     <-data_year[i,"YCAL"]
x_cor<-c((x-length),(x+length),(x+length),(x-length))
y_cor<-c((y+length),(y+length),(y-length),(y-length))
if(is.na(data_year[i,"ROW"])==TRUE){
polygon(x_cor,y_cor)
}else{
polygon(x_cor,y_cor,col=col_code[data_year[i,"ROW"]])
}
if(is.na(data_year[i,"ROW"])==FALSE){
label_point<-data_year[i,"POSITION"]
text(x,y,label=label_point,col='black',cex=0.5)
}else{
next
}
first_cells<-data_year[which(data_year[,"POSITION"]==1),]
for(i in c(1:nrow(first_cells))){
x<-first_cells[i,"XCAL"]
y<-first_cells[i,"YCAL"]
length<-first_cells[i,"SQRLENGTH"]/1.2
label_point<-first_cells[i,"ROW"]
text(x,y-length,label=label_point,col='black',cex=0.8,font=2)
}
a<-which(colnames(data_year)=="SQRLENGTH")
data_year<-data_year[,-a]
name<-paste(sample,"-",as.character(year),sep="")
assign(name,data_year)
}
if(length(years)==1){
output_all_years<-get(paste(sample,"-",as.character(years[1]),sep=""))
}else{
output_all_years<-get(paste(sample,"-",as.character(years[1]),sep=""))
for(t in c(2:(length(years)))){
output_all_years<-rbind(output_all_years,get(paste(sample,"-",as.character(years[t]),sep="")))
}
if(!is.null(location)){
write.table(output_all_years,file=paste(sample,"_output.txt",sep=""),row.names=FALSE,sep="\t")
dev.off()}
return(output_all_years)
}
rm(write.output)
write.output<-function(input,location,flip=FALSE){
opar <- graphics::par(no.readonly=T)
on.exit(graphics::par(opar))
outlist <- list()
if(missing(flip)){flip<-FALSE}
if(flip!=TRUE&flip!=FALSE)stop('flip need to be TRUE/FALSE')
if(missing(location)){location<-FALSE}
sample<-unique(input[,"ID"])
if(!is.null(location) & is.character(location)){
pdf(file=paste(location,"/",sample,".pdf",sep=""),height=210/25.4,width=297/25.4,paper="A4r")
} else {
stop("Please provide a character string containing a path to an output folder.")
}
years<-unique(input[,"YEAR"])
for(u in c(1:length(years)) ){
data_year<-input[which(input[,"YEAR"]==years[u]),]
year<-years[u]
if(flip==FALSE){
plot(data_year[,"XCAL"],data_year[,"YCAL"],ylab="Rel. Y-coordinates (micron)",
ylim=c(0-max(data_year[,"YCAL"],na.rm=TRUE)*0.01,max(data_year[,"YCAL"],na.rm=TRUE)),
main=paste(sample," - ",as.character(year)," - Rows: ",max(data_year[,"ROW"],na.rm=TRUE),sep=""),xlab="Rel. X-coordinates (micron)",pch=16,cex=0.2,col="white")}
if(flip==TRUE){
plot(data_year[,"XCAL"],data_year[,"YCAL"],ylab="Rel. Y-coordinates (micron)",
ylim=c(max(data_year[,"YCAL"],na.rm=TRUE),0-max(data_year[,"YCAL"],na.rm=TRUE)*0.01),
main=paste(sample," - ",as.character(year)," - Rows: ",max(data_year[,"ROW"],na.rm=TRUE),sep=""),xlab="Rel. X-coordinates (micron)",pch=16,cex=0.2,col="white")
}
data_year[,"SQRLENGTH"] <-sqrt(data_year[,"CA"])
nrcells<-nrow(data_year)
rows<-max(unique(data_year[,"ROW"])[which(is.na(unique(data_year[,"ROW"]))==FALSE)])
col_code<-rep(c("#FFA500","#FF3300","#C71585","#191970","#20B2AA","#00CC33","#006633"),ceiling(rows/7))
for(i in c(1:nrcells)){
length<-data_year[i,"SQRLENGTH"]/2
x     <-data_year[i,"XCAL"]
y     <-data_year[i,"YCAL"]
x_cor<-c((x-length),(x+length),(x+length),(x-length))
y_cor<-c((y+length),(y+length),(y-length),(y-length))
if(is.na(data_year[i,"ROW"])==TRUE){
polygon(x_cor,y_cor)
}else{
polygon(x_cor,y_cor,col=col_code[data_year[i,"ROW"]])
}
if(is.na(data_year[i,"ROW"])==FALSE){
label_point<-data_year[i,"POSITION"]
text(x,y,label=label_point,col='black',cex=0.5)
}else{
next
}
first_cells<-data_year[which(data_year[,"POSITION"]==1),]
for(i in c(1:nrow(first_cells))){
x<-first_cells[i,"XCAL"]
y<-first_cells[i,"YCAL"]
length<-first_cells[i,"SQRLENGTH"]/1.2
label_point<-first_cells[i,"ROW"]
text(x,y-length,label=label_point,col='black',cex=0.8,font=2)
}
a<-which(colnames(data_year)=="SQRLENGTH")
data_year<-data_year[,-a]
name<-paste(sample,"-",as.character(year),sep="")
assign(name,data_year)
}
if(length(years)==1){
output_all_years<-get(paste(sample,"-",as.character(years[1]),sep=""))
}else{
output_all_years<-get(paste(sample,"-",as.character(years[1]),sep=""))
for(t in c(2:(length(years)))){
output_all_years<-rbind(output_all_years,get(paste(sample,"-",as.character(years[t]),sep="")))
}
if(!is.null(location)){
write.table(output_all_years,file=paste(sample,"_output.txt",sep=""),row.names=FALSE,sep="\t")
dev.off()}
return(output_all_years)
}
sib_larix<-write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output)
dev.off()
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output)
sib_larix<-write.output(output, location = '.')
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output, location = '.')
rm(sib_larix)
write.output(output, location = '.')
write.output(output, location = 5)
is.character(5)
!is.character(5)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output, location = 5)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output, location = 5)
write.output(output, location = '.')
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output, location = '.')
dev.off()
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
dev.off()
write.output(output, location = '.')
dev.off()
dev.cur()
.Internal(dev.off(as.integer(which)))
.Internal(dev.off(2))
.Internal(dev.off(1))
graphics.off()
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output, location = '.')
write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output, location = '.')
write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output)
#' SIB_LARIX<-write.output(sib_larix)
#' for(i in c(1:length(unique(SIB_LARIX[,"YEAR"])))){
#' row_id<-unique(SIB_LARIX[which(SIB_LARIX[,"YEAR"]==unique(SIB_LARIX[,"YEAR"])[i]),"ROW"],
#'                na.rm=TRUE)
#' row_id<-na.omit(row_id[order(row_id)])
#' for(j in c(1:length(row_id))){
#' SIB_LARIX[which(SIB_LARIX[,"YEAR"]==unique(SIB_LARIX[,"YEAR"])[i] &
#'           SIB_LARIX[,"ROW"]==row_id[j]), "ROW"]<-j
#' }}
#' }
write.output<-function(input,location,flip=FALSE){
outlist <- list()
if(missing(flip)){flip<-FALSE}
if(flip!=TRUE&flip!=FALSE)stop('flip need to be TRUE/FALSE')
if(missing(location)){location<-FALSE}
sample<-unique(input[,"ID"])
if(!is.null(location) && is.character(location)){
pdf(file=paste(location,"/",sample,".pdf",sep=""),height=210/25.4,width=297/25.4,paper="A4r")
} else if(!is.null(location) && !is.character(location)){
stop("Please provide a character string containing a path to an output folder.")
} else {
}
years<-unique(input[,"YEAR"])
for(u in c(1:length(years)) ){
data_year<-input[which(input[,"YEAR"]==years[u]),]
year<-years[u]
if(flip==FALSE){
plot(data_year[,"XCAL"],data_year[,"YCAL"],ylab="Rel. Y-coordinates (micron)",
ylim=c(0-max(data_year[,"YCAL"],na.rm=TRUE)*0.01,max(data_year[,"YCAL"],na.rm=TRUE)),
main=paste(sample," - ",as.character(year)," - Rows: ",max(data_year[,"ROW"],na.rm=TRUE),sep=""),xlab="Rel. X-coordinates (micron)",pch=16,cex=0.2,col="white")}
if(flip==TRUE){
plot(data_year[,"XCAL"],data_year[,"YCAL"],ylab="Rel. Y-coordinates (micron)",
ylim=c(max(data_year[,"YCAL"],na.rm=TRUE),0-max(data_year[,"YCAL"],na.rm=TRUE)*0.01),
main=paste(sample," - ",as.character(year)," - Rows: ",max(data_year[,"ROW"],na.rm=TRUE),sep=""),xlab="Rel. X-coordinates (micron)",pch=16,cex=0.2,col="white")
}
data_year[,"SQRLENGTH"] <-sqrt(data_year[,"CA"])
nrcells<-nrow(data_year)
rows<-max(unique(data_year[,"ROW"])[which(is.na(unique(data_year[,"ROW"]))==FALSE)])
col_code<-rep(c("#FFA500","#FF3300","#C71585","#191970","#20B2AA","#00CC33","#006633"),ceiling(rows/7))
for(i in c(1:nrcells)){
length<-data_year[i,"SQRLENGTH"]/2
x     <-data_year[i,"XCAL"]
y     <-data_year[i,"YCAL"]
x_cor<-c((x-length),(x+length),(x+length),(x-length))
y_cor<-c((y+length),(y+length),(y-length),(y-length))
if(is.na(data_year[i,"ROW"])==TRUE){
polygon(x_cor,y_cor)
}else{
polygon(x_cor,y_cor,col=col_code[data_year[i,"ROW"]])
}
if(is.na(data_year[i,"ROW"])==FALSE){
label_point<-data_year[i,"POSITION"]
text(x,y,label=label_point,col='black',cex=0.5)
}else{
next
}
first_cells<-data_year[which(data_year[,"POSITION"]==1),]
for(i in c(1:nrow(first_cells))){
x<-first_cells[i,"XCAL"]
y<-first_cells[i,"YCAL"]
length<-first_cells[i,"SQRLENGTH"]/1.2
label_point<-first_cells[i,"ROW"]
text(x,y-length,label=label_point,col='black',cex=0.8,font=2)
}
a<-which(colnames(data_year)=="SQRLENGTH")
data_year<-data_year[,-a]
name<-paste(sample,"-",as.character(year),sep="")
assign(name,data_year)
}
if(length(years)==1){
output_all_years<-get(paste(sample,"-",as.character(years[1]),sep=""))
}else{
output_all_years<-get(paste(sample,"-",as.character(years[1]),sep=""))
for(t in c(2:(length(years)))){
output_all_years<-rbind(output_all_years,get(paste(sample,"-",as.character(years[t]),sep="")))
}
if(!is.null(location)){
write.table(output_all_years,file=paste(sample,"_output.txt",sep=""),row.names=FALSE,sep="\t")
invisible(dev.off())
} else {
return(output_all_years)
}
write.output(output)
devtools::load_all(".")
write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output)
devtools::load_all(".")
write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output)
devtools::load_all(".")
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
devtools::load_all(".")
write.output(output)
write.output(output, location = 5)
write.output(output, location = "5")
write.output(output, location = "")
write.output(output, location = ".")
write.output(output)
sib_larix<-write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output)
sib_larix<-write.output(output, location = 5)
sib_larix<-write.output(output, location = "")
sib_larix<-write.output(output, location = ".")
nchar("5")
nchar("")
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output, location = ".")
sib_larix<-write.output(output, location = "")
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output, location = "")
nchar(5)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output, location = "")
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output, location = "")
nchar('')
sib_larix<-write.output(output, location = "")
sib_larix<-write.output(output)
sib_larix<-write.output(output, location = 5)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output, location = 5)
sib_larix<-write.output(output, location = "5")
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
sib_larix<-write.output(output, location = ".")
sib_larix<-write.output(output)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/batch.mode_test.R')
graph.cells(input, year=2010)
graph.cells(input, year=2010, interact = T)
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/pos.det.R')
input<-is.raptor(example.data(species="MOUNT_PINUS"), str = FALSE)
aligned<-align(input, list=c("h", "h", "h", 0.03), make.plot = FALSE)
first<-first.cell(aligned, frac.small = 0.2, yrs = FALSE, make.plot = FALSE)
output<-pos.det(first, swe = 0.7, sle = 3, ec = 1.75, swl = 0.5, sll = 5, lc = 10,
prof.co = 1.7, max.cells = 0.7, yrs = FALSE, aligning = FALSE, make.plot = TRUE)
output<-pos.det(first, swe = 0.7, sle = 3, ec = 1.75, swl = 0.5, sll = 5, lc = 10,
prof.co = 1.7, max.cells = 0.7, yrs = FALSE, aligning = FALSE, make.plot = F)
output<-pos.det(first, swe = 0.7, sle = 3, ec = 1.75, swl = 0.5, sll = 5, lc = 10,
prof.co = 1.7, max.cells = 0.7, yrs = FALSE, aligning = FALSE, make.plot = T)
devtools::check()
devtools::load_all(".")
rm(list = ls())
devtools::load_all(".")
input<-is.raptor(example.data(species="SIB_LARIX"), str = FALSE)
aligned<-align(input)
first<-first.cell(aligned, frac.small = 0.5, yrs = FALSE, make.plot = FALSE)
first<-first.cell(aligned, frac.small = 0.5, yrs = FALSE, make.plot = TRUE)
output<-pos.det(first, swe = 0.3, sle = 3, ec = 1.5, swl = 0.5, sll = 5, lc = 15,
prof.co =4, max.cells = 0.5, yrs = FALSE, aligning = FALSE, make.plot = FALSE)
dev.off()
output<-pos.det(first, swe = 0.3, sle = 3, ec = 1.5, swl = 0.5, sll = 5, lc = 15,
prof.co =4, max.cells = 0.5, yrs = FALSE, aligning = FALSE, make.plot = FALSE)
output<-pos.det(first, swe = 0.3, sle = 3, ec = 1.5, swl = 0.5, sll = 5, lc = 15,
prof.co =4, max.cells = 0.5, yrs = FALSE, aligning = FALSE, make.plot = TRUE)
sib_larix<-write.output(output)
sib_larix
sib_larix<-write.output(output, location = '.')
sib_larix
library(RAPTOR)
rm(list = ls())
input<-is.raptor(example.data(species="SIB_LARIX"), str = FALSE)
aligned<-align(input)
first<-first.cell(aligned, frac.small = 0.5, yrs = FALSE, make.plot = FALSE)
output<-pos.det(first, swe = 0.3, sle = 3, ec = 1.5, swl = 0.5, sll = 5, lc = 15,
prof.co =4, max.cells = 0.5, yrs = FALSE, aligning = FALSE, make.plot = FALSE)
sib_larix<-write.output(output)
dev.off()
sib_larix<-write.output(output)
sib_larix<-write.output(output, '.')
write.output(output)
devtools::load_all(".")
rm(list = ls())
input<-is.raptor(example.data(species="SIB_LARIX"), str = FALSE)
aligned<-align(input)
first<-first.cell(aligned, frac.small = 0.5, yrs = FALSE, make.plot = FALSE)
output<-pos.det(first, swe = 0.3, sle = 3, ec = 1.5, swl = 0.5, sll = 5, lc = 15,
prof.co =4, max.cells = 0.5, yrs = FALSE, aligning = FALSE, make.plot = FALSE)
sib_larix<-write.output(output)
sib_larix<-write.output(output, '.')
sib_larix
dev.off()
devtools::load_all(".")
rm(list = ls())
input<-is.raptor(example.data(species="SIB_LARIX"), str = FALSE)
aligned<-align(input)
first<-first.cell(aligned, frac.small = 0.5, yrs = FALSE, make.plot = FALSE)
output<-pos.det(first, swe = 0.3, sle = 3, ec = 1.5, swl = 0.5, sll = 5, lc = 15,
prof.co =4, max.cells = 0.5, yrs = FALSE, aligning = FALSE, make.plot = FALSE)
sib_larix<-write.output(output)
input<-is.raptor(example.data(species="SIB_LARIX"), str = FALSE)
aligned<-align(input)
first<-first.cell(aligned, frac.small = 0.5, yrs = FALSE, make.plot = FALSE)
output<-pos.det(first, swe = 0.3, sle = 3, ec = 1.5, swl = 0.5, sll = 5, lc = 15,
prof.co =4, max.cells = 0.5, yrs = FALSE, aligning = FALSE, make.plot = FALSE)
sib_larix<-write.output(output, '.')
View(.Last.value)
sib_larix<-write.output(output)
sib_larix<-write.output(output, '.')
sib_larix
write.output(output, '.')
dev.off()
sib_larix<-write.output(output, '.')
sib_larix
sub("(\/)$","", "./abc/")
sub("(\\/)$","", "./abc/")
sub("(\\/)$","", "./abc/d")
sub("(\\/)$","", "./abc/d/")
sub("\\/$","", "./abc/d/")
sub("\\/$","", "/./abc/d/")
sub("\\/$","", "/./abc/d//")
sub("\\/*$","", "/./abc/d//")
sub("\\/*$","", "/./abc/d////")
paste(location,"/")
paste(a,"/")
paste('a',"/")
source('C:/Users/ahurl/OneDrive/DOC/PhD/author/raptor/R/write.output.R')
write.output(output, './man')
write.output(output, './man/')
a <- write.output(output, './man/')
devtools::load_all(".")
rm(list = ls())
